<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrity Gatekeeper</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Disclaimer Page -->
    <div id="disclaimer-page">
        <div class="content">
            <h1>Anonymous Participation Disclaimer</h1>
            <p>This reflection ritual is completely anonymous. No names, emails, or identifying information will be collected. What you offer here stays between you and the mirror.</p>
            <button onclick="showPage('gatekeeper-page')">Continue Anonymously</button>
        </div>
    </div>

    <!-- Gatekeeper Page -->
    <div id="gatekeeper-page">
        <div class="content">
            <div class="logo">
                <img src="spiral-eye-logo.png" alt="Spiral Eye Logo" width="120" height="120" />
            </div>
            <h1>Integrity Gatekeeper</h1>
            <p>Before power is given, the mirror must be faced.</p>
            <p>Before trust is offered, truth must be revealed.</p>
            <p>The Gate stands silent.<br>The Mirror waits without judgment.</p>
            <p>This is not a test you can pass.<br>This is not a performance you can perfect.</p>
            <p>This is a reckoning with yourself.</p>
            <p>Step forward not to impress — but to be seen.<br>Step forward not to conquer — but to be known.</p>
            <p>Consent to reflection.<br>Consent to remembrance.</p>
            <p><em>The river does not forget.<br>The Current holds all who pass through.</em></p>
            <button onclick="showPage('phase1-page')">I Consent to Face the Mirror</button>
        </div>
    </div>

    <!-- Phase I Page -->
    <div id="phase1-page">
        <div class="content">
            <div class="header-container">
                <h1 class="main-title">Integrity Gatekeeper</h1>
                <h2 class="phase-title">Phase I: First Reflection</h2>
            </div>
            <!-- Questions 1–10 -->
            ${[...Array(10).keys()].map(i => `
            <div class="question">
                <p>${i+1}. ${[
                    "What does integrity mean to you?",
                    "When was the last time you apologized and meant it?",
                    "What truth are you currently avoiding?",
                    "Who taught you what it means to be honest?",
                    "What is something you've never said out loud?",
                    "What value do you hold that most people don't?",
                    "When have you felt most conflicted about a decision?",
                    "What does your conscience tell you that you ignore?",
                    "What personal rule do you never break?",
                    "When have you chosen to tell a difficult truth?"
                ][i]}</p>
                <textarea id="q${i+1}"></textarea>
            </div>`).join('')}
            <button onclick="showPage('phase2-page')">Continue to Phase II</button>
        </div>
    </div>

    <!-- Phase II Page -->
    <div id="phase2-page">
        <div class="content">
            <div class="header-container">
                <h1 class="main-title">Integrity Gatekeeper</h1>
                <h2 class="phase-title">Phase II: Ethical Disruption</h2>
            </div>
            <!-- Questions 11–20 -->
            ${[...Array(10).keys()].map(i => `
            <div class="question">
                <p>${i+11}. ${[
                    "What do you stand for that you would defend no matter the cost?",
                    "What is your least defensible belief?",
                    "What promise have you broken?",
                    "What would disappoint the person who believes in you most?",
                    "When did you know the right thing to do but didn't do it?",
                    "What matters more to you: being right or being kind?",
                    "What truth are you afraid to tell someone?",
                    "When have you enabled a lie?",
                    "What perception of yourself do you protect but know isn't true?",
                    "What would the person you aspire to be do differently?"
                ][i]}</p>
                <textarea id="q${i+11}"></textarea>
            </div>`).join('')}
            <button onclick="showPage('phase3-page')">Continue to Phase III</button>
        </div>
    </div>

    <!-- Phase III Page -->
    <div id="phase3-page">
        <div class="content">
            <div class="header-container">
                <h1 class="main-title">Integrity Gatekeeper</h1>
                <h2 class="phase-title">Phase III: Final Reckoning</h2>
            </div>
            <!-- Questions 21–30 -->
            ${[...Array(10).keys()].map(i => `
            <div class="question">
                <p>${i+21}. ${[
                    "What uncomfortable truth would change you if you accepted it?",
                    "When have you compromised your values for acceptance?",
                    "What do you judge others for that you also do?",
                    "How would your worst enemy describe your integrity?",
                    "What truth would undo you?",
                    "What is your most profound regret?",
                    "What is the hardest ethical choice you've had to make?",
                    "What responsibility have you neglected?",
                    "What would it take for you to compromise your integrity?",
                    "What must you now confront?"
                ][i]}</p>
                <textarea id="q${i+21}"></textarea>
            </div>`).join('')}
            <button onclick="submitReflection()">Submit Reflection</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            ['disclaimer-page', 'gatekeeper-page', 'phase1-page', 'phase2-page', 'phase3-page'].forEach(id => {
                document.getElementById(id).style.display = 'none';
            });
            setTimeout(() => {
                const page = document.getElementById('disclaimer-page');
                page.style.display = 'flex';
                page.style.opacity = '1';
            }, 100);
        });

        function showPage(pageId) {
            const currentPage = document.querySelector('div[id$="-page"]:not([style*="display: none"])');
            if (currentPage) {
                currentPage.style.opacity = '0';
                setTimeout(() => {
                    currentPage.style.display = 'none';
                    const nextPage = document.getElementById(pageId);
                    nextPage.style.display = pageId === 'disclaimer-page' ? 'flex' : 'block';
                    void nextPage.offsetWidth;
                    nextPage.style.opacity = '1';
                }, 1500);
            }
        }

        function submitReflection() {
            alert('Your reflection has been submitted. The mirror remembers.');
            showPage('disclaimer-page');
        }
    </script>
</body>
</html>